<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Navbar styles are now only in navbar.html for consistency -->
    .content {
      padding: 40px;
      margin-top: 30px;
    }
    .hero {
      text-align: center;
      margin-bottom: 60px;
      position: relative;
    }
    .hero-logo {
      width: 180px;
      height: 180px;
      object-fit: contain;
      margin-bottom: 24px;
      border-radius: 50%;
      box-shadow: 0 0 48px 8px #00cfff, 0 0 32px 4px #10131a;
      background: transparent;
      border: 2px solid #00cfff;
    }
    .hero h1 {
      font-size: 2.7em;
      color: #00cfff;
      text-shadow: 0 0 24px #00cfff, 0 0 32px #10131a;
      letter-spacing: 2px;
    }
    .hero p {
      font-size: 1.2em;
      color: #b3cfff;
      text-shadow: 0 0 8px #10131a;
    }
    .btn {
      background: linear-gradient(90deg, #00cfff 0%, #10131a 100%);
      color: #fff;
      border: none;
      padding: 12px 28px;
      border-radius: 6px;
      font-size: 1em;
      cursor: pointer;
      margin-top: 20px;
      transition: background 0.2s, box-shadow 0.2s;
      text-decoration: none;
      display: inline-block;
      box-shadow: 0 0 16px #00cfff, 0 0 8px #10131a;
      font-weight: bold;
      letter-spacing: 1px;
    }
    .btn:hover {
      background: linear-gradient(90deg, #10131a 0%, #00cfff 100%);
      box-shadow: 0 0 32px #00cfff, 0 0 16px #10131a;
    }
    .features {
      margin-bottom: 60px;
    }
    .feature-list {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }
    .feature-item {
      background: rgba(10,16,32,0.95);
      padding: 24px;
      border-radius: 10px;
      flex: 1;
      min-width: 220px;
      box-shadow: 0 2px 16px rgba(0,207,255,0.15), 0 0 8px #10131a;
      border: 1px solid #00cfff;
    }
    .feature-item h3 {
      color: #00cfff;
      text-shadow: 0 0 8px #10131a;
    }
    .docs, .community {
      margin-bottom: 60px;
    }
    .footer {
      background: rgba(10,16,32,0.98);
      text-align: center;
      padding: 20px 0;
      color: #00cfff;
      position: relative;
      bottom: 0;
      width: 100%;
      font-size: 1.08em;
      text-shadow: 0 0 8px #00cfff, 0 0 16px #10131a;
      letter-spacing: 1px;
      box-shadow: 0 -2px 12px #00cfff;
    }
    .fornax-title {
      font-size: 1.4em;
      font-weight: bold;
      color: #00cfff;
      letter-spacing: 0.08em;
      text-shadow: 0 0 8px #00cfff, 0 0 16px #10131a;
      margin-left: 8px;
    }
    .zp-backdrop {
      position: fixed; inset: 0;
      background: none;
      display: none; align-items: flex-end; justify-content: flex-start;
      z-index: 9999;
      pointer-events: none;
    }
    .zp-modal {
      width: min(80vw, 320px);
      background: radial-gradient(circle at 30% -10%, #1a1d2e, #0b0e16);
      border: 1px solid #2c3250;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.5);
      color: #e7e9ff;
      padding: 16px;
      text-align: center;
      margin: 32px;
      pointer-events: auto;
    }
    .zp-title { font-size: 1.1rem; margin: 0 0 6px; }
    .zp-desc { font-size: 0.85rem; opacity: 0.9; margin-bottom: 12px; }
    .zp-actions { display: flex; gap: 8px; justify-content: center; }
    .zp-btn {
      padding: 8px 12px; border-radius: 8px; border: 1px solid #39406a;
      background: linear-gradient(180deg, #2b3257, #1d2343);
      color: #e7e9ff; cursor: pointer;
      font-size: 0.95em;
    }
    .zp-btn-primary {
      background: linear-gradient(180deg, #7a2cff, #3b0b96);
      border-color: #7a2cff;
    }
    .zp-btn:hover { filter: brightness(1.1); }
  </style>
</head>
<body>
  <div id="navbar-container"></div>
  <script>
    // Dynamically load the universal navbar
    fetch('pages/navbar.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('navbar-container').innerHTML = html;
        setTimeout(function() {
          const profileIcon = document.getElementById('profile-icon');
          const profileDropdown = document.getElementById('profile-dropdown');
          if (profileIcon && profileDropdown) {
            profileIcon.onclick = function(e) {
              e.stopPropagation();
              profileDropdown.style.display = 'flex';
            };
            document.addEventListener('click', function(e) {
              if (profileDropdown.style.display === 'flex') profileDropdown.style.display = 'none';
            });
            document.addEventListener('keydown', function(e) {
              if (e.key === 'Escape' && profileDropdown.style.display === 'flex') profileDropdown.style.display = 'none';
            });
          }
        }, 100);
      });
  </script>
  <div style="background:radial-gradient(ellipse at center,#10131a 60%,#05060a 100%);color:#eaf6ff;min-height:100vh;padding-bottom:0;">
    <main class="content">
      <section class="hero" style="text-align:center;margin-bottom:60px;position:relative;">
        <img src="assets/ZOPHOSLOGO4.png" alt="ZOPHOS Logo" class="hero-logo" style="width:180px;height:180px;object-fit:contain;margin-bottom:24px;border-radius:50%;box-shadow:0 0 48px 8px #00cfff,0 0 32px 4px #10131a;background:transparent;border:2px solid #00cfff;" />
        <h1 style="font-size:2.7em;color:#00cfff;text-shadow:0 0 24px #00cfff,0 0 32px #10131a;letter-spacing:2px;">Welcome to ZOPHOS</h1>
        <p style="font-size:1.2em;color:#b3cfff;text-shadow:0 0 8px #10131a;">The all-in-one Discord bot and platform. Explore features, documentation, and join our community!</p>
        <a href="#get-started" class="btn" style="background:linear-gradient(90deg,#00cfff 0%,#10131a 100%);color:#fff;padding:12px 28px;border-radius:6px;font-size:1em;box-shadow:0 0 16px #00cfff,0 0 8px #10131a;font-weight:bold;letter-spacing:1px;">Get Started</a>
      </section>
      <section id="features" class="features" style="margin-bottom:60px;">
        <h2 style="color:#00cfff;text-shadow:0 0 8px #10131a;">Features</h2>
        <div class="feature-list" style="display:flex;gap:30px;flex-wrap:wrap;">
          <div class="feature-item" style="background:rgba(10,16,32,0.95);padding:24px;border-radius:10px;flex:1;min-width:220px;box-shadow:0 2px 16px rgba(0,207,255,0.15),0 0 8px #10131a;border:1px solid #00cfff;">
            <h3 style="color:#00cfff;text-shadow:0 0 8px #10131a;">Moderation</h3>
            <p>Powerful tools to keep your server safe and organized.</p>
          </div>
          <div class="feature-item" style="background:rgba(10,16,32,0.95);padding:24px;border-radius:10px;flex:1;min-width:220px;box-shadow:0 2px 16px rgba(0,207,255,0.15),0 0 8px #10131a;border:1px solid #00cfff;">
            <h3 style="color:#00cfff;text-shadow:0 0 8px #10131a;">Music</h3>
            <p>High-quality music playback and controls.</p>
          </div>
          <div class="feature-item" style="background:rgba(10,16,32,0.95);padding:24px;border-radius:10px;flex:1;min-width:220px;box-shadow:0 2px 16px rgba(0,207,255,0.15),0 0 8px #10131a;border:1px solid #00cfff;">
            <h3 style="color:#00cfff;text-shadow:0 0 8px #10131a;">Custom Commands</h3>
            <p>Create and manage your own commands easily.</p>
          </div>
        </div>
      </section>
      <section id="docs" class="docs" style="margin-bottom:60px;">
        <h2 style="color:#00cfff;text-shadow:0 0 8px #10131a;">Documentation</h2>
        <p>Find guides, API references, and tutorials to get the most out of FornaxBot.</p>
        <a href="#" class="btn" style="background:linear-gradient(90deg,#00cfff 0%,#10131a 100%);color:#fff;padding:12px 28px;border-radius:6px;font-size:1em;box-shadow:0 0 16px #00cfff,0 0 8px #10131a;font-weight:bold;letter-spacing:1px;">View Docs</a>
      </section>
      <section id="community" class="community" style="margin-bottom:60px;">
        <h2 style="color:#00cfff;text-shadow:0 0 8px #10131a;">Community</h2>
        <p>A communication place where everyone can chat, connect, and share. Join our Discord server and Roblox group to meet other Zophos members!</p>
        <a href="#" class="btn" style="background:linear-gradient(90deg,#00cfff 0%,#10131a 100%);color:#fff;padding:12px 28px;border-radius:6px;font-size:1em;box-shadow:0 0 16px #00cfff,0 0 8px #10131a;font-weight:bold;letter-spacing:1px;">Join Discord</a>
      </section>
    </main>
    <!-- Single copyright footer only -->
  </div>
  <footer class="footer">&copy; 2025 ZOPHOS. ALL RIGHTS RESERVED.</footer>

  <!-- Cosmic Popup Modal -->
  <div id="zpBackdrop" class="zp-backdrop" role="dialog" aria-modal="true" aria-labelledby="zpTitle" style="position:fixed;inset:0;background:rgba(10,16,32,0.97);display:none;align-items:flex-end;justify-content:flex-start;z-index:9999;pointer-events:none;">
    <div class="zp-modal" style="width:min(80vw,320px);background:radial-gradient(circle at 30% -10%,#1a1d2e,#0b0e16);border:2px solid #00cfff;border-radius:16px;box-shadow:0 8px 32px #00cfff,0 0 24px #10131a;color:#e7e9ff;padding:16px;text-align:center;margin:32px;pointer-events:auto;">
      <h2 id="zpTitle" class="zp-title" style="font-size:1.3em;color:#00cfff;text-shadow:0 0 12px #00cfff,0 0 24px #10131a;margin:0 0 6px;">Play Now</h2>
      <p class="zp-desc" style="font-size:0.95em;opacity:0.9;margin-bottom:12px;color:#b3cfff;text-shadow:0 0 8px #10131a;">Join our new Roblox game! Cosmic obby, neon vortex vibes, new stages, zero filler. Compete, chat, and explore with the Zophos community.</p>
      <div class="zp-actions" style="display:flex;gap:8px;justify-content:center;">
        <a id="zpPlay" class="zp-btn zp-btn-primary" 
           href="https://www.roblox.com/games/84376708122643/Only-1-Can-Beat-This-Obby#!/about" 
           target="_blank" rel="noopener" style="padding:8px 12px;border-radius:8px;border:2px solid #00cfff;background:linear-gradient(180deg,#00cfff,#10131a);color:#fff;box-shadow:0 0 16px #00cfff;font-size:0.95em;font-weight:bold;">Play now</a>
        <button id="zpDismiss" class="zp-btn" style="padding:8px 12px;border-radius:8px;border:2px solid #39406a;background:linear-gradient(180deg,#23272a,#10131a);color:#e7e9ff;box-shadow:0 0 8px #10131a;font-size:0.95em;">Maybe later</button>
      </div>
    </div>
  </div>

  <script>
    // Config
    const POPUP_INTERVAL_MS = 120000; // 2 minutes
    const MAX_SHOWS_PER_SESSION = 5;  // cap so you donâ€™t annoy people
    const SESSION_KEY = 'zp_popup_shown_count';
    const SNOOZE_KEY = 'zp_popup_snooze_until';

    const backdrop = document.getElementById('zpBackdrop');
    const dismissBtn = document.getElementById('zpDismiss');
    const playBtn = document.getElementById('zpPlay');

    function getCount() { return parseInt(sessionStorage.getItem(SESSION_KEY) || '0', 10); }
    function setCount(n) { sessionStorage.setItem(SESSION_KEY, String(n)); }

    function getSnoozeUntil() { return parseInt(sessionStorage.getItem(SNOOZE_KEY) || '0', 10); }
    function setSnoozeUntil(ts) { sessionStorage.setItem(SNOOZE_KEY, String(ts)); }

    function showModal() {
      if (document.hidden) return;
      const count = getCount();
      const now = Date.now();
      if (count >= MAX_SHOWS_PER_SESSION) return;
      if (getSnoozeUntil() > now) return;
      backdrop.style.display = 'flex';
      setCount(count + 1);
    }

    function hideModal(snoozeMs = POPUP_INTERVAL_MS) {
      backdrop.style.display = 'none';
      setSnoozeUntil(Date.now() + snoozeMs);
    }

    setTimeout(showModal, 30000);
    setInterval(showModal, POPUP_INTERVAL_MS);
    document.addEventListener('visibilitychange', () => {
      if (!document.hidden) setTimeout(showModal, 5000);
    });
    dismissBtn.addEventListener('click', () => hideModal(POPUP_INTERVAL_MS));
    playBtn.addEventListener('click', () => hideModal(POPUP_INTERVAL_MS * 2));
    backdrop.addEventListener('click', (e) => {
      if (e.target === backdrop) hideModal(POPUP_INTERVAL_MS);
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') hideModal(POPUP_INTERVAL_MS);
    });
  </script>
</body>
</html>
